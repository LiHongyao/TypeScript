# 一、概述

函数类型包含两部分：参数类型和返回值类型

```typescript
// 完整函数定义
let sum: (a: number, b: number) => number = function(a: number, b: number): number {
    return a + b;
}
```

> 提示：可省略函数类型声明，TS可以根据值自动推断出其类型。

# 二、可选参数和默认参数

```typescript
function info(name: string, country = "中国", gender?: string) {
    console.log(`
        姓名：${name}
        国籍：${country}
        性别：${gender}
    `);
}
info("木子李");
info("木子李", "中国", "男");
```

> 提示：
>
> - 可选参数必须跟在必须参数后面。
> - 可选参数与末尾的默认参数共享参数类型。

# 三、剩余参数

必要参数，默认参数和可选参数有个共同点：它们表示某一个参数。 有时，你想同时操作多个参数，或者你并不知道会有多少参数传递进来。 在JavaScript里，你可以使用 `arguments`来访问所有传入的参数。在TypeScript里，你可以把所有参数收集到一个变量里：

```typescript
function log(a: number, b: number, ...others: number[]): void {
    console.log(others); // => [3, 4, 5]
}
log(1, 2, 3, 4, 5);
```

# 四、this

- 普通函数：谁调用就指向谁
- 箭头函数：谁定义就指向谁

# 五、重载

JavaScript本身是个动态语言。 JavaScript里函数根据传入不同的参数而返回不同类型的数据是很常见的。

```typescript
function test(x: number): number;
function test(x: string): string;
function test(x: number | string): any {
    if(typeof x == "number") {
        return 2019;
    }else if(typeof x == "string") {
        return "Hello";
    }
}

console.log(test(1)); // => 2019
console.log(test("1")); // => hello
```

在下面这个 test 函数里，我们的本意可能是当传入参数 para 是 User 时，不传 flag，当传入 para 是 number 时，传入 flag。TypeScript 并不知道这些，当你传入 para 为 User 时，flag 同样允许你传入：

```typescript
interface User {
    name: string;
    tel: string;
}

let user = {
    name: "木子李",
    tel: "17398888669"
}

class SomeClass {
    public test(para: User): number;
    public test(para: number, flag: boolean): number;
    public test(para: User | number, flag?: boolean): number {
        // 具体实现
        return 2019;
    }
}

const someClass = new SomeClass();

// ok
someClass.test(user);
someClass.test(123, false);

// Error
someClass.test(123); 
// => 类型“123”的参数不能赋给类型“User”的参数
someClass.test(user, false);
// => 类型“{ name: string; tel: string; }”的参数不能赋给类型“number”的参数。
```



